{% extends "base/base.html" %} {% load static %} {% block title %}
<title>Viaje Manual</title>
{% endblock title %} {% block content %}


<div class="row">

    <div class="col-sm-12 col-md-12">
        <div class="card">
            <div class="card-body">
                <h2 class="text-center">Formulario de <strong>Viajes</strong></h2>

                <form method="POST" action="{% url 'crear_viaje' %}" class="agregar_viaje_manual">
                    {% csrf_token %}
                    <div class="form-body">

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Fransportista" name="transportista" value="{{transportista}}" readonly ></div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Fecha del viaje" name="fecha_viaje" value="{{fecha_viaje}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="time" class="form-control" placeholder="Hora de entrada del pasajero" name="hora_entrada" value="{{hora_entrada}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="time" class="form-control" placeholder="Hora de salida del pasajero" name="hora_salida" value="{{hora_salida}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Id" name="id_pasajero" value="{{id_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Nombre" name="nombre_pasajero" value="{{nombre_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Apellidos" name="apellido_pasajero" value="{{apellido_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Campaña" name="campaña_pasajero" value="{{campaña_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Site" name="site_pasajero" value="{{site_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Ruta" name="ruta_pasajero" value="{{ruta_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group"><input type="text" class="form-control" placeholder="Direccion" name="direccion_pasajero" value="{{direccion_pasajero}}" readonly ></div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-check form-group">
                                    <input type="radio" class="form-check-input" name="excepcion" id="excepcion" checked value="True" readonly>
                    
                                    <label class="form-check-label" for="excepcion">Excepcion</label>
                                </div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-check form-group">
                                   
                                    <label class="form-check-label" for="excepcion">Excepciones frecuentes:</label>
                                     
                                    <select name="excepcion_frecuente" id="excepcion_frecuente" onchange="transcribir_excepcion()">
                                        {%for excepcion in excepciones %}
                                            <option >{{excepcion.nombre_excepcion}}</option>
                                        {%endfor%}
                                    </select>
                                </div>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <textarea required placeholder="Razon de la excepcion" id="razon_excepcion" name="razon_excepcion"></textarea>
                            </div>
                        </div>

                        
                        <div class="row">
                            <div class="col-md-4 m-auto">
                                <div class="form-group">
                                    <div class="form-group">{{form.nombre_ruta}}</div>
                                </div>
                            </div>

                            <div class="form-group">{{form.errors}}</div>
                        </div>

                    </div>



                    <div class="form-actions mt-4">
                        <div class="text-center">
                            <button type="submit" class="btn btn-info">Guardar</button>
                            <a href="{% url 'rutas' %}" class="btn btn-dark">Cancelar</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>



{% endblock content %}

{% block js %}

<script>
    function transcribir_excepcion(){
        var excepcion=document.getElementById('excepcion_frecuente').value
        
        
        document.getElementById('razon_excepcion').value=excepcion

        
    }
</script>

{% endblock %}